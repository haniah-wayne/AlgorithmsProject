#include <iostream>
#include <vector>
#include <list>
#include <string>
#include <unordered_map>
using namespace std;

// adjacencyList: map from vertex label -> list of (destination, weight)
typedef unordered_map<string, list<pair<string,int>>> AdjList;

// Build adjacency list using direct append (Algorithm 1)
AdjList BuildDirectAppend(const vector<string> &vertices,
                          const vector<string> &uList,
                          const vector<string> &vList,
                          const vector<int>    &wList)
{
    AdjList adjacencyList;              // starts an adjacency list

    // Create an empty list for each vertex
    for (const string &v : vertices) {  // for each vertex v in vertices
        adjacencyList[v] = list<pair<string,int>>();   // adjacencyList[v] = empty list
    }

    // Add each edge directly to the list
    for (size_t i = 0; i < uList.size(); ++i) {   // for each (source, destination, weight)
        string source      = uList[i];
        string destination = vList[i];
        int weight         = wList[i];

        pair<string,int> edge = make_pair(destination, weight); // edge = (destination, weight)

        // Append this edge to the source vertex
        adjacencyList[source].push_back(edge);  // adjacencyList[source].append(edge)
    }

    return adjacencyList;   // return adjacencyList
}
